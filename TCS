Linux Admin
1.LvM
*** How to Copy and how to take backups ***

3.ping server is not reachable(what is the next step)
4.How to search using port number
nc
traceroute
*** schedule job at 5 am and it has to delete the log files that are 10 days old ***
0 5 * * * find /var/log -type f -mtime +10 -name "*.log" -exec rm -f {} \;
üìò Explanation:
0 5 * * * ‚Üí Run daily at 05:00 AM
find ‚Üí searches in /var/log
-mtime +10 ‚Üí files older than 10 days
-exec rm -f {} ‚Üí delete each found file

Kuberenetes
*** Kubectl commmands ***
*** Image pull back off error ***
1Ô∏è‚É£ ImagePullBackOff Error
Meaning:
It means Kubernetes tried to pull (download) the container image from the image registry (like Docker Hub, Quay, or a private repo) but failed repeatedly.
Common Causes:
*Incorrect image name or tag
Example: nginx:alpinee (wrong spelling)
*Private image repository (authentication needed)
Missing imagePullSecret
*Network issue
Cluster node cannot connect to Docker registry.
*DNS issue
Node cannot resolve the registry hostname.

How to check:
kubectl describe pod <pod-name>

Look at the Events section; you‚Äôll see messages like:
Failed to pull image "nginx:latest": rpc error: code = Unknown desc = Error response from daemon


Fix:
‚úÖ Check the image name and tag
‚úÖ If private registry ‚Üí create secret:
kubectl create secret docker-registry myregistrykey \
  --docker-server=<registry-url> \
  --docker-username=<username> \
  --docker-password=<password> \
  --docker-email=<email>
Then in Pod YAML:
imagePullSecrets:
  - name: myregistrykey
‚úÖ Check node network/DNS using:
kubectl get nodes -o wide
kubectl exec -it <pod> -- nslookup <registry-url>

****Pod pending state****
A Pod in Pending state means Kubernetes accepted the request but hasn‚Äôt been able to schedule the Pod onto any node.
It is basically stuck before running.
‚úÖ Why a Pod goes into Pending State?
Here are the most common reasons with simple explanation:
| Reason                                                             | Meaning                                          | Example                                                          |
| ------------------------------------------------------------------ | ------------------------------------------------ | ---------------------------------------------------------------- |
| **Not enough CPU/Memory resources**                                | No node has free capacity to run the pod         | You requested `2 CPU and 4Gi memory`, but all nodes are full     |
| **No node matches nodeSelector/taints/tolerations/affinity rules** | Scheduling rules block the pod from being placed | Pod demands a node with label `env=prod` but no such node exists |
| **PVC (Persistent Volume Claim) not bound**                        | Storage request not available yet                | Your PVC is Pending ‚Üí Pod also Pending                           |
| **ImagePullSecret missing for private registry**                   | Kubernetes can‚Äôt access private image            | Works only after you configure a secret                          |
| **Network policy / permissions issue**                             | Scheduler can't assign pod due to constraints    | Rare but possible                                                |

üß™ How to Troubleshoot Step-by-Step
1Ô∏è‚É£ Check Pod Status and Events
kubectl describe pod <pod-name>
Look at the bottom: Events section ‚Äî it tells the real reason.

2Ô∏è‚É£ Check if Resources are Available
kubectl get nodes -o wide
kubectl describe node <node-name>
If you see messages like:
0/3 nodes are available: insufficient memory / cpu
Then your requests are too high.
3Ô∏è‚É£ Check PVC Binding Issue
kubectl get pvc
If PVC is also Pending, fix storage before the pod runs.
4Ô∏è‚É£ Check Scheduling Rules
If you're using labels or taints:
kubectl get nodes --show-labels
kubectl describe node <node>
‚≠ê Common scheduler mismatch messages:
node(s) didn't match node selector
node(s) had taints that the pod didn't tolerate
üõ† Example Real-Life Issue
YAML:
resources:
  requests:
    cpu: "2"
    memory: "4Gi"
If your node has only 1 CPU free, scheduler won't assign it, so pod stays pending.

ü©π Fix: lower the request:
resources:
  requests:
    cpu: "0.5"
    memory: "512Mi"
Adjust the reource requests and limits in the deployment
kubectl edit deployment <deployment-name>


***node not ready(all the nodes in the cluster are not ready)***
It means Kubernetes cannot talk to the node, so pods cannot run on it.
üìå How to Check Node Status
kubectl get nodes
Example output:
NAME       STATUS     ROLES    AGE     VERSION
node01     NotReady   worker   20d     v1.28
node02     NotReady   worker   20d     v1.28

üõ† How to Fix It (Simple Steps)
1Ô∏è‚É£ Check kubelet is running
Describe the Node
kubectl describe node <node-name>
Look for messages under Conditions:
Ready: False
Reason: KubeletNotReady
Message: container runtime is down

2Ô∏è‚É£ SSH into the node and check Kubelet
systemctl status kubelet
If not running, start it:
sudo systemctl start kubelet
sudo systemctl enable kubelet

3Ô∏è‚É£ Check Node Pressure (Memory, Disk)
Node Pressure means the node is running low on memory or disk space, so Kubernetes marks it as NotReady to protect itself.

Types of Pressure:
| Pressure Type      | Meaning                             | Example                              |
| ------------------ | ----------------------------------- | ------------------------------------ |
| **MemoryPressure** | Node is running out of RAM          | Too many pods using memory           |
| **DiskPressure**   | Node is running out of disk storage | Logs, images, or files fill the disk |

üß™ How to Check?
Run:
kubectl describe node <node-name>
If you see:
MemoryPressure: True
DiskPressure: True

üõ† How to Fix Node Pressure (Simple Steps)
‚úÖ If Memory is Low
The node doesn't have enough RAM.
Fix: Remove extra pods or increase the size of the node.

‚úÖ If Disk is Full
The node doesn't have enough storage.
Fix: Delete old files, logs, and unused container images.

üßπ Simple Cleanup Commands
If using Docker:
docker system prune -a
If using containerd:
crictl rmi --prune



*** service not reachable, how to troubleshoot ***
üö® When a Service is Not Reachable
It means traffic is not passing from:
Client ‚Üí Service ‚Üí Pod

üß™ Step-by-Step Troubleshooting (Simple)
1Ô∏è‚É£ Check if Service Exists
kubectl get svc
Make sure service name and namespace are correct.

2Ô∏è‚É£ Check Service Type
kubectl describe svc <service-name>
Types:
| Type         | When used                                         |
| ------------ | ------------------------------------------------- |
| ClusterIP    | Inside cluster only                               |
| NodePort     | Accessible from outside using `<NodeIP>:NodePort` |
| LoadBalancer | Cloud access (AWS/Azure/GCP)                      |
If you're trying to access a ClusterIP from outside the cluster, it won't work.

3Ô∏è‚É£ Check if Service Has Endpoints
For a Service to send traffic to a Pod, the labels on the Pod must match the selector in the Service. If they don‚Äôt match, the Service has no endpoints, and traffic won‚Äôt reach the Pod.
What are "Endpoints"?
Endpoints are the IP addresses of pods that a service will send traffic to.
If a service has no endpoints, it means:
The service does not know which pod it should talk to.

üí° Why does this happen?
Because Kubernetes finds pods based on labels.
A Service has a selector, and it looks for pods with matching labels.

üß† Example to Understand
‚úÖ Service YAML:
selector:
  app: web
This means:
"Send traffic only to pods that have the label app=web".

‚ùå Pod Labels (incorrect)
labels:
  app: backend

Since app=backend ‚â† app=web, the service will find zero pods.
So endpoints will be:
<none>
‚úî Pod Labels (correct)
labels:
  app: web

Now labels match ‚Üí service will find the pod ‚Üí endpoints will be created.
üõ† How to Check
1Ô∏è‚É£ Check service selector:
kubectl describe svc <service-name>
You will see something like:
Selector: app=web

2Ô∏è‚É£ Check pod labels:
kubectl get pods --show-labels
Example output:
pod1   Running   app=backend
pod2   Running   app=web
Only the pod with app=web will become an endpoint.

5Ô∏è‚É£ Check Pod is Running and Ready
kubectl get pods
If pod is:
CrashLoopBackOff
Error
Pending
‚Üí Service cannot route traffic.

6Ô∏è‚É£ Test Inside Cluster
Use busybox or curl pod:
kubectl run test --image=busybox:1.28 -it -- /bin/sh

Then test:
curl http://<service-name>:<port>
If this works but external access fails ‚Üí issue is NodePort / LoadBalancer.

7Ô∏è‚É£ Check Firewall / NodePort Access
If using NodePort:
curl <NodeIP>:<NodePort>
If blocked ‚Üí firewall or security group issue.

5.What is Service and types of services
6.what is pv and pvc?what happens if pod is deleted to pvc-perisitenceVolumeReclaimPolicy and command to check pv and pvc?
7.progressdeadline error-we can increase the replicas pods
we can use autoscaling Hpa(to increase pods) and vpa(to cpu and memory for existing pods)
8.Kubernetes architecture
9.you are using external ip not reachable? ans-network policies????not sure
10.How to increase cpu and memory to pod ?command
11.we have pod in one namepspace wnat to  communicate with other other namespace?-namespace selector network policies,Rbac
12.In your project how you are using RBAC


Docker
1.what is docker file?and what are the main instructions or components in docker file?from that docker file how to create image and container
2.how to delete the container that was stopped?
first check docker ps -a-status of container
docker images
docker rmi container <containerid>


